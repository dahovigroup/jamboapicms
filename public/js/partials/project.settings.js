"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[958],{1007:(t,e,s)=>{s.d(e,{Z:()=>a});const a={props:{type:{type:String,default:"submit"},color:{type:String,default:"gray-800"},hover:{type:String,default:null},padding:{type:String,default:null},disabled:{type:Boolean,default:!1}},computed:{bgColor:function(){var t="";if(this.disabled)t="bg-indigo-200 cursor-not-allowed";else{var e="bg-"+this.color,s=this.color.split("-"),a=null==this.hover?"bg-"+s[0]+"-"+(parseInt(s[1])+100):"bg-"+this.hover,o="bg-"+s[0]+"-"+(parseInt(s[1])+100);s[0],parseInt(s[1]),s[0];t=e+" hover:"+a+" active:"+o}return null===this.padding?t+=" p-3 ":t+=" "+this.padding+" ",t}}}},9475:(t,e,s)=>{s.d(e,{s:()=>a,x:()=>o});var a=function(){var t=this;return(0,t._self._c)("button",{staticClass:"items-center border border-transparent rounded-sm text-sm text-white focus:outline-none transition ease-in-out duration-150",class:t.bgColor,attrs:{type:t.type,disabled:t.disabled}},[t._t("default")],2)},o=[]},4487:(t,e,s)=>{s.d(e,{Z:()=>i});var a=s(9475),o=s(1718);const i=(0,s(1900).Z)(o.Z,a.s,a.x,!1,null,null,null).exports},6306:(t,e,s)=>{s.d(e,{Z:()=>o});const a={props:{show:{default:!1},maxWidth:{default:"3xl"},closeable:{default:!0},disableHeader:{default:!1},disableFooter:{default:!1},noContenPadding:{default:!1}},methods:{close:function(){this.closeable&&this.$emit("close")}},watch:{show:{immediate:!0,handler:function(t){document.body.style.overflow=t?"hidden":null}}},created:function(){var t=this,e=function(e){"Escape"===e.key&&t.show&&t.close()};document.addEventListener("keydown",e),this.$once("hook:destroyed",(function(){document.removeEventListener("keydown",e)}))},computed:{maxWidthClass:function(){return{sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl","6xl":"sm:max-w-6xl","7xl":"sm:max-w-7xl"}[this.maxWidth]}}};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"fixed z-10 inset-0 overflow-y-auto"},[e("div",{staticClass:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0"},[e("div",{staticClass:"fixed inset-0 transition-opacity",attrs:{"aria-hidden":"true"},on:{click:t.close}},[e("div",{staticClass:"absolute inset-0 bg-gray-500 opacity-75"})]),t._v(" "),e("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen",attrs:{"aria-hidden":"true"}},[t._v("â€‹")]),t._v(" "),e("div",{staticClass:"inline-block align-bottom bg-white rounded-sm text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-full",class:t.maxWidthClass,attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[t.disableHeader?t._e():e("div",{staticClass:"px-6 py-6 border-b border-gray-100 bg-white"},[e("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900"},[t._t("title")],2)]),t._v(" "),e("div",{class:{"px-6 py-4":!t.noContenPadding}},[t._t("content")],2),t._v(" "),t.disableFooter?t._e():e("div",{staticClass:"px-6 py-4 bg-gray-50 text-right mt-5"},[t._t("footer")],2)])])])}),[],!1,null,null,null).exports},8925:(t,e,s)=>{s.d(e,{Z:()=>c});var a=s(6306),o=s(4487);const i={props:["project"],methods:{checkRole:s(3787).Z,ExportSubmit:function(){axios({method:"get",url:"/admin/projects/export/"+this.$route.params.project_id,responseType:"arraybuffer"}).then((function(t){var e=new Blob([t.data],{type:"application/json"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.setAttribute("download","project_export.json"),document.body.appendChild(a),a.click()})).catch((function(t){console.error(t)}))}}};var r=s(1900);const l=(0,r.Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"text-center text-gray-600 cursor-pointer mr-4",on:{click:t.ExportSubmit}},[e("i",{staticClass:"fas fa-file-export"}),t._v("Export")]),t._v(" "),void 0!==t.project.id&&t.checkRole(["admin"+t.project.id])?e("router-link",{staticClass:"text-center text-gray-600 cursor-pointer",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}},"exact-active-class":"bg-none"}},[e("i",{staticClass:"fas fa-cog"}),t._v("Settings")]):t._e()],1)}),[],!1,null,null,null).exports,n={props:["project"],components:{UiModal:a.Z,UiButton:o.Z,ProjectActions:l}};const c=(0,r.Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4 flex border-b"},[e("div",{staticClass:"w-full"},[e("div",{staticClass:"text-xl font-bold"},[t._v("\n            "+t._s(t.project.name)+"\n        ")]),t._v(" "),e("div",{staticClass:"text-sm"},[t._v(t._s(t.project.description))])]),t._v(" "),e("projectActions",{attrs:{project:t.project}})],1)}),[],!1,null,null,null).exports},438:(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});var a=s(8925),o=s(4215),i=s(4487),r=s(3787);const l={components:{ProjectHeader:a.Z,SettingsNav:o.Z,UiButton:i.Z},data:function(){return{project:{},editProjectData:{errors:{name:""}}}},methods:{checkRole:r.Z,getProject:function(){var t=this;axios.get("/admin/projects/"+this.$route.params.project_id).then((function(e){t.project=e.data,t.editProjectData.id=e.data.id,t.editProjectData.name=e.data.name,t.editProjectData.description=e.data.description,t.editProjectData.disk=e.data.disk}))},saveEdit:function(){var t=this;axios.post("/admin/projects/update/"+this.project.id,this.editProjectData).then((function(e){t.$toast.success("Project updated!"),t.editProjectData={errors:{name:""}},t.getProject()}),(function(e){422==e.response.status&&(t.editProjectData.errors=e.response.data.errors)}))},deleteProject:function(){var t=this;this.$swal.fire({title:"Are you sure",text:"you want to delete this project? All the collections and the content will be lost. You won't be able to revert this!"}).then((function(e){e.value&&axios.delete("/admin/projects/delete/"+t.project.id).then((function(e){t.$toast.success("Project deleted."),t.$router.push({name:"home"})}))}))}},mounted:function(){this.getProject()}};const n=(0,s(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex h-full"},[e("div",{staticClass:"w-96 h-full bg-white overflow-x-hidden"},[e("project-header",{staticClass:"bg-white",attrs:{project:t.project}}),t._v(" "),e("settings-nav",{attrs:{project:t.project}})],1),t._v(" "),e("div",{staticClass:"w-full overflow-x-hidden"},[e("div",{staticClass:"p-4"},[e("h4",{staticClass:"mb-2 p-2 font-bold text-xl"},[t._v("Project Details")]),t._v(" "),e("div",{staticClass:"bg-white mt-2 rounded-md p-4 w-full xl:w-3/5"},[e("div",{staticClass:"grid grid-cols-1 gap-4"},[e("div",[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Project Name")]),t._v(" "),e("div",{staticClass:"mt-1 relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.name,expression:"editProjectData.name"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text",autofocus:""},domProps:{value:t.editProjectData.name},on:{input:function(e){e.target.composing||t.$set(t.editProjectData,"name",e.target.value)}}}),t._v(" "),e("p",{staticClass:"text-sm text-red-600 mt-2"},[t._v(t._s(t.editProjectData.errors.name[0]))])])]),t._v(" "),e("div",[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Description")]),t._v(" "),e("div",{staticClass:"mt-1 relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.description,expression:"editProjectData.description"},{name:"forminput",rawName:"v-forminput"}],attrs:{type:"text"},domProps:{value:t.editProjectData.description},on:{input:function(e){e.target.composing||t.$set(t.editProjectData,"description",e.target.value)}}})])]),t._v(" "),t.project.s3?e("div",[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]},[t._v("Default Upload Disk")]),t._v(" "),e("div",{staticClass:"grid grid-cols-4 space-x-2"},[e("div",{staticClass:"col-span-1"},[e("label",{staticClass:"p-5 border border-gray-300 rounded-sm text-sm flex items-center space-x-2 cursor-pointer",attrs:{for:"default_disk_local"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.disk,expression:"editProjectData.disk"}],attrs:{name:"default_disk",id:"default_disk_local",type:"radio",value:"local"},domProps:{checked:t._q(t.editProjectData.disk,"local")},on:{change:function(e){return t.$set(t.editProjectData,"disk","local")}}}),t._v(" "),e("span",[t._v("Local (storage folder)")])])]),t._v(" "),e("div",{staticClass:"col-span-1"},[e("label",{staticClass:"p-5 border border-gray-300 rounded-sm text-sm flex items-center space-x-2 cursor-pointer",attrs:{for:"default_disk_s3"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editProjectData.disk,expression:"editProjectData.disk"}],attrs:{name:"default_disk",id:"default_disk_s3",type:"radio",value:"s3"},domProps:{checked:t._q(t.editProjectData.disk,"s3")},on:{change:function(e){return t.$set(t.editProjectData,"disk","s3")}}}),t._v(" "),e("span",[t._v("AWS S3")])])])])]):t._e(),t._v(" "),e("div",[e("label",{directives:[{name:"formlabel",rawName:"v-formlabel"}]}),t._v(" "),e("div",{staticClass:"mt-1 relative"},[e("ui-button",{attrs:{color:"indigo-500"},nativeOn:{click:function(e){return t.saveEdit()}}},[t._v("Update Project")])],1)])]),t._v(" "),e("hr",{staticClass:"clear-both mt-5 mb-5"}),t._v(" "),t.checkRole(["super_admin"])?e("ui-button",{staticClass:"float-right",attrs:{color:"red-500"},nativeOn:{click:function(e){return t.deleteProject()}}},[e("i",{staticClass:"fa fa-exclamation-triangle"}),t._v(" Delete Project")]):t._e(),t._v(" "),e("div",{staticClass:"clear-both"})],1)])])])}),[],!1,null,null,null).exports},4215:(t,e,s)=>{s.d(e,{Z:()=>o});const a={props:["project"],methods:{checkRole:s(3787).Z}};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4 bg-white"},[e("h4",{staticClass:"mb-2 p-2 font-bold text-lg"},[t._v("Settings")]),t._v(" "),e("ul",[e("li",{staticClass:"mb-2"},[void 0!==t.project.id?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings",params:{project_id:t.project.id}}}},[t._v("Project")]):t._e()],1),t._v(" "),e("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.locales",params:{project_id:t.project.id}}}},[t._v("Localization")]):t._e()],1),t._v(" "),e("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.users",params:{project_id:t.project.id}}}},[t._v("Users & Roles")]):t._e()],1),t._v(" "),e("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.api",params:{project_id:t.project.id}}}},[t._v("API Access")]):t._e()],1),t._v(" "),e("li",{staticClass:"mb-2"},[void 0!==t.project.id&&t.checkRole(["super_admin"])?e("router-link",{staticClass:"block w-full p-2 cursor-pointer hover:bg-gray-100 rounded",attrs:{to:{name:"projects.settings.webhooks",params:{project_id:t.project.id}}}},[t._v("Webhooks")]):t._e()],1)])])}),[],!1,null,null,null).exports},1718:(t,e,s)=>{s.d(e,{Z:()=>a});const a=s(1007).Z}}]);